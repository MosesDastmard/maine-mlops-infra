# Feast Feature Server Helm Values
# Chart: feast-charts/feast-feature-server
# Repo: https://feast-helm-charts.storage.googleapis.com
#
# Dependencies (deployed separately):
#   - feast-postgresql: PostgreSQL for registry
#   - feast-redis: Redis for online store

replicaCount: 1

image:
  repository: feastdev/feature-server
  pullPolicy: IfNotPresent
  tag: "0.46.0"

logLevel: "INFO"

# Feast deployment mode: online, offline, ui, registry
feast_mode: "ui"

# Base64 encoded feature_store.yaml
# Decoded config:
#   project: mlops_features
#   provider: local
#   registry:
#     registry_type: sql
#     path: postgresql://feast:***@feast-postgresql.mlops-feast.svc.cluster.local:5432/feast_registry
#   online_store:
#     type: redis
#     connection_string: feast-redis-master.mlops-feast.svc.cluster.local:6379,password=***
#   offline_store:
#     type: postgres
#     host: feast-postgresql.mlops-feast.svc.cluster.local
#     port: 5432
#     database: feast_registry
#     user: feast
#     password: ***
#   entity_key_serialization_version: 3
feature_store_yaml_base64: "cHJvamVjdDogbWxvcHNfZmVhdHVyZXMKcHJvdmlkZXI6IGxvY2FsCnJlZ2lzdHJ5OgogIHJlZ2lzdHJ5X3R5cGU6IHNxbAogIHBhdGg6IHBvc3RncmVzcWw6Ly9mZWFzdDo0azBwWXU0Sk1jWmxHOEtQRmVhc3QhQGZlYXN0LXBvc3RncmVzcWwubWxvcHMtZmVhc3Quc3ZjLmNsdXN0ZXIubG9jYWw6NTQzMi9mZWFzdF9yZWdpc3RyeQpvbmxpbmVfc3RvcmU6CiAgdHlwZTogcmVkaXMKICBjb25uZWN0aW9uX3N0cmluZzogZmVhc3QtcmVkaXMtbWFzdGVyLm1sb3BzLWZlYXN0LnN2Yy5jbHVzdGVyLmxvY2FsOjYzNzkscGFzc3dvcmQ9NGswcFl1NEpNY1psRzhLUEZlYXN0UmVkaXMhCm9mZmxpbmVfc3RvcmU6CiAgdHlwZTogcG9zdGdyZXMKICBob3N0OiBmZWFzdC1wb3N0Z3Jlc3FsLm1sb3BzLWZlYXN0LnN2Yy5jbHVzdGVyLmxvY2FsCiAgcG9ydDogNTQzMgogIGRhdGFiYXNlOiBmZWFzdF9yZWdpc3RyeQogIHVzZXI6IGZlYXN0CiAgcGFzc3dvcmQ6IDRrMHBZdTRKTWNabEc4S1BGZWFzdCEKZW50aXR5X2tleV9zZXJpYWxpemF0aW9uX3ZlcnNpb246IDMK"

service:
  type: NodePort
  port: 6566

resources:
  requests:
    memory: "512Mi"
    cpu: "200m"
  limits:
    memory: "1Gi"
    cpu: "1000m"

livenessProbe:
  initialDelaySeconds: 60
  periodSeconds: 30

readinessProbe:
  initialDelaySeconds: 30
  periodSeconds: 10
