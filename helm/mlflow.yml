# MLflow Helm Values
global:
  security:
    allowInsecureImages: true

image:
  registry: docker.io
  repository: bitnamilegacy/mlflow
  tag: "3.3.2-debian-12-r0"

# Use bitnamilegacy for init container since bitnami/os-shell requires subscription
waitContainer:
  image:
    registry: docker.io
    repository: bitnamilegacy/os-shell
    tag: "12-debian-12-r51"

tracking:
  enabled: true
  auth:
    enabled: true
    username: admin
    password: Moses1749MLflow!
  service:
    type: NodePort
    ports:
      http: 5000
    nodePorts:
      http: "30050"
  resources:
    requests:
      memory: "512Mi"
      cpu: "200m"
    limits:
      memory: "1Gi"
      cpu: "1000m"

# Use bundled PostgreSQL (MLflow doesn't support MySQL)
postgresql:
  enabled: true
  image:
    registry: docker.io
    repository: bitnamilegacy/postgresql
    tag: "17.4.0-debian-12-r0"
  auth:
    username: mlflow
    password: Moses1749
    database: mlflow

# Use S3-compatible storage for artifacts
minio:
  enabled: false

externalS3:
  protocol: https
  host: eu2.contabostorage.com
  port: 443
  bucket: mlflow
  existingSecret: mlflow-s3-credentials
  existingSecretAccessKeyIDKey: accessKeyID
  existingSecretKeySecretKey: secretAccessKey

run:
  enabled: false
