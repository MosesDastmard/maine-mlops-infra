image:
  repository: registry
  tag: 2.8.3

service:
  type: NodePort
  port: 5000
  nodePort: 30500

ingress:
  enabled: false

persistence:
  enabled: false

s3:
  region: eu-central-1
  regionEndpoint: https://eu2.contabostorage.com
  bucket: registry
  rootdirectory: /
  encrypt: true
  secure: true

secrets:
  s3:
    secretRef: "registry-s3-credentials"
env:
  REGISTRY_AUTH: htpasswd
  REGISTRY_AUTH_HTPASSWD_REALM: "Registry Realm"
  REGISTRY_AUTH_HTPASSWD_PATH: /auth/htpasswd
  REGISTRY_STORAGE_DELETE_ENABLED: "true"

# Mount the secret
extraVolumes:
  - name: auth
    secret:
      secretName: registry-auth


extraVolumeMounts:
  - name: auth
    mountPath: /auth
    readOnly: true


configData: {}

resources:
  requests:
    memory: "128Mi"
    cpu: "100m"

podSecurityContext:
  fsGroup: 1000
securityContext:
  runAsNonRoot: true
  runAsUser: 1000